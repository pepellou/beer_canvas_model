!function(e,t){"use strict";var n={};!function(){var e=document.getElementsByTagName("script"),t=e[e.length-1];if(t)for(var r,o=t.attributes,i=0,a=o.length;a>i;i++)/data-(\w+)$/.test(o[i].nodeName)&&(r=o[i].nodeValue,"false"===r&&(r=!1),n[RegExp.$1]=r)}();var r=function(){var e=t(),r=e(n);return r.factory=e,r};"function"==typeof define&&define.amd?define([],r):"object"==typeof module&&module.exports?module.exports=r():e.Honeybadger=r()}(this,function(){function e(e,t){var n={};for(k in e)n[k]=e[k];for(k in t)n[k]=t[k];return n}function t(e){return c?c.name!==e.name?!1:c.message!==e.message?!1:c.stack!==e.stack?!1:!0:!1}function n(){var e={};return e.HTTP_USER_AGENT=navigator.userAgent,document.referrer.match(/\S/)&&(e.HTTP_REFERER=document.referrer),e}function r(e){if("object"!=typeof e)return void 0;var t=[];for(k in e)t.push(k+"="+e[k]);return t.join(";")}function o(e){return e.stacktrace||e.stack||void 0}function i(e){var t,n=10;if(e&&(t=o(e)))return{stack:t,generator:void 0};try{throw new Error("")}catch(r){if(t=o(r))return{stack:t,generator:"throw"}}t=["<call-stack>"];for(var i=arguments.callee;i&&t.length<n;){t.push(/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?RegExp.$1||"<anonymous>":"<anonymous>");try{i=i.caller}catch(r){break}}return{stack:t.join("\n"),generator:"walk"}}function a(e,t){var n,r,o;for(r=0,o=e.length;o>r;r++)if(n=e[r],n(t)===!1)return!0;return!1}var c,u,s="0.4.5",f={name:"honeybadger.js",url:"https://github.com/honeybadger-io/honeybadger-js",version:s,language:"javascript"},p=!1,l=!1,d=function(d){function y(e){g("debug")&&this.console&&console.log(e)}function g(e,t){var n;return void 0!==H[e]&&(n=H[e]),"false"===n&&(n=!1),void 0!==n?n:t}function m(){return"http"+(g("ssl",!0)&&"s"||"")+"://"+g("host","api.honeybadger.io")}function h(e){return/function|symbol/.test(typeof e)?!1:"object"==typeof e&&"undefined"==typeof e.hasOwnProperty?!1:!0}function v(e,t,n){var r,o,i,a;if(i=[],n||(n=0),n>=g("max_depth",8))return encodeURIComponent(t)+"=[MAX DEPTH REACHED]";for(r in e)a=e[r],e.hasOwnProperty(r)&&null!=r&&null!=a&&(h(a)||(a=Object.prototype.toString.call(a)),o=t?t+"["+r+"]":r,i.push("object"==typeof a?v(a,o,n+1):encodeURIComponent(o)+"="+encodeURIComponent(a)));return i.join("&")}function w(e){try{return x=new(this.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0"),x.open("GET",e,g("async",!0)),void x.send()}catch(t){y("Error encountered during XHR request (will retry): "+t)}img=new Image,img.src=e}function b(e){c=u=null;var t=g("apiKey",g("api_key"));return t?(url=m()+"/v1/notices/js.gif?"+v({notice:e})+"&api_key="+t+"&t="+(new Date).getTime(),w(url),!0):(y("Unable to send error report: no API key has been configured."),!1)}function E(i,s){if(g("disabled",!1))return!1;if("object"!=typeof i)return!1;if("[object Error]"===Object.prototype.toString.call(i)){var l=i;i=e(i,{name:l.name,message:l.message,stack:o(l)})}if(t(i))return!1;if(u&&p&&b(u),0===function(){var e,t;t=[];for(e in i)({}).hasOwnProperty.call(i,e)&&t.push(e);return t}().length)return!1;if(s&&(i=e(i,s)),a(H.beforeNotifyHandlers,i))return!1;var d=n();"string"==typeof i.cookies?d.HTTP_COOKIE=i.cookies:"object"==typeof i.cookies&&(d.HTTP_COOKIE=r(i.cookies));var m={notifier:f,error:{"class":i.name||"Error",message:i.message,backtrace:i.stack,generator:i.generator,fingerprint:i.fingerprint},request:{url:i.url||document.URL,component:i.component||g("component"),action:i.action||g("action"),context:e(H.context,i.context),cgi_data:d,params:i.params},server:{project_root:i.projectRoot||i.project_root||g("projectRoot",g("project_root",window.location.protocol+"//"+window.location.host)),environment_name:i.environment||g("environment")}};return u=m,c=i,p?(y("Deferring notice.",i,m),window.setTimeout(function(){t(i)&&b(m)})):(y("Queuing notice.",i,m),R.push(m)),i}function j(e,t){try{return"function"!=typeof e?e:(e.___hb||(e.___hb=function(){var n=g("onerror",!0);if(!(O&&(n||t)||t&&!n))return e.apply(this,arguments);try{return e.apply(this,arguments)}catch(r){throw E(r),r}}),e.___hb)}catch(n){return e}}function T(e,t,n){if(!l&&e&&t&&n){var r=e[t];e[t]=n(r)}}var _=[],R=[],H={context:{},beforeNotifyHandlers:[]};if("object"==typeof d)for(k in d)H[k]=d[k];var O=!0;if(window.atob||(O=!1),window.ErrorEvent)try{0===new window.ErrorEvent("").colno&&(O=!1)}catch(S){}H.notify=function(t,n,r){if(t||(t={}),"[object Error]"===Object.prototype.toString.call(t)){var a=t;t=e(t,{name:a.name,message:a.message,stack:o(a)})}if("object"!=typeof t){var c=String(t);t={message:c}}if(n&&"object"!=typeof n){var u=String(n);n={name:u}}return n&&(t=e(t,n)),"object"==typeof r&&(t=e(t,r)),E(t,i(t))},H.wrap=function(e){return j(e,!0)},H.setContext=function(t){return"object"==typeof t&&(H.context=e(H.context,t)),H},H.resetContext=function(t){return H.context="object"==typeof t?e({},t):{},H},H.configure=function(e){for(k in e)H[k]=e[k];return H},H.beforeNotify=function(e){return H.beforeNotifyHandlers.push(e),H};var L=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};H.reset=function(){H.context={},H.beforeNotifyHandlers=[];for(k in H)-1==L.call(_,k)&&(H[k]=void 0);return H},H.getVersion=function(){return s};var C=function(e){return function(t,n){if("function"==typeof t){var r=Array.prototype.slice.call(arguments,2);return t=j(t),e(function(){t.apply(null,r)},n)}return e(t,n)}};T(window,"setTimeout",C),T(window,"setInterval",C),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(e){prototype=window[e]&&window[e].prototype,prototype&&prototype.hasOwnProperty&&prototype.hasOwnProperty("addEventListener")&&(T(prototype,"addEventListener",function(e){return function(t,n,r,o){try{n&&null!=n.handleEvent&&(n.handleEvent=j(n.handleEvent))}catch(i){y(i)}return e.call(this,t,j(n),r,o)}}),T(prototype,"removeEventListener",function(e){return function(t,n,r,o){return e.call(this,t,n,r,o),e.call(this,t,j(n),r,o)}}))}),T(window,"onerror",function(e){function t(e,t,n,r,o){if(!c&&g("onerror",!0)){if(0===n&&/Script error\.?/.test(e))return void y("Ignoring cross-domain script error. Use CORS to enable tracking of these types of errors.");if(y("Error caught by window.onerror"),o)return void E(o);stack=[e,"\n    at ? (",t||"unknown",":",n||0,":",r||0,")"].join(""),E({name:"window.onerror",message:e,stack:stack})}}return function(n,r,o,i,a){return t(n,r,o,i,a),"function"==typeof e?e.apply(this,arguments):!1}}),l=!0;for(k in H)_.push(k);if(y("Initializing honeybadger.js "+s),/complete|interactive|loaded/.test(document.readyState))p=!0,y("honeybadger.js "+s+" ready");else{y("Installing ready handler");var I=function(){for(p=!0,y("honeybadger.js "+s+" ready");notice=R.pop();)b(notice)};document.addEventListener?document.addEventListener("DOMContentLoaded",I,!0):window.attachEvent("onload",I)}return H};return d});
//# sourceMappingURL=//js.honeybadger.io/v0.4/honeybadger.min.js.map